<h1>Live Game Simulation <span data-bind="newWindow: []"></span></h1>

<p class="text-danger">If you navigate away from this page, you won't be able to see these play-by-play results again because they are not stored anywhere. The results of this game are already final, though.</p>

<div class="row">
  <div class="col-md-9">
    <!-- ko if: showBoxScore -->
      <center>
        <h2><a data-bind="attrLeagueUrl: {href: ['roster', boxScore.teams()[0].abbrev, boxScore.season]}, text: boxScore.teams()[0].region() + ' ' + boxScore.teams()[0].name()"></a> <span data-bind="text: boxScore.teams()[0].pts"></span>, <a data-bind="attrLeagueUrl: {href: ['roster', boxScore.teams()[1].abbrev, boxScore.season]}, text: boxScore.teams()[1].region() + ' ' + boxScore.teams()[1].name()"></a> <span data-bind="text: boxScore.teams()[1].pts"></span><span data-bind="text: boxScore.overtime"></span></h2>
        <table class="table table-bordered" style="margin-top: 0.5em; width: auto">
          <tbody data-bind="foreach: boxScore.teams">
            <th><a data-bind="attrLeagueUrl: {href: ['roster', abbrev, $root.boxScore.season]}, text: abbrev"></a></th>
            <!-- ko foreach: ptsQtrs -->
              <td data-bind="text: $data"></td>
            <!-- /ko -->
            <th data-bind="text: pts"></th>
          </tbody>
        </table>
        <span data-bind="visible: !boxScore.gameOver()"><span data-bind="text: boxScore.quarter"></span>, <span data-bind="text: boxScore.time"></span> left</span>
        <span data-bind="visible: boxScore.gameOver">Final Score</span>
      </center>
      <!-- ko foreach: boxScore.teams -->
        <h3><a data-bind="attrLeagueUrl: {href: ['roster', abbrev, $root.boxScore.season]}, text: region() + ' ' + name()"></a></h3>
        <div class="table-responsive">
          <table class="table table-striped table-bordered table-condensed box-score-team">
            <thead>
              <tr><th>Skaters</th></tr>			
<!--              <tr><th>Name</th><th>Pos</th><th>Min</th><th>FG</th><th>3Pt</th><th>FT</th><th>Off</th><th>Reb</th><th>Ast</th><th>TO</th><th>Stl</th><th>Blk</th><th>PF</th><th>Pts</th></tr> -->
              <tr><th>Name</th><th>Pos</th><th>G</th><th>A</th><th>+/-</th><th>SOG</th><th>MS</th><th>BS</th><th>PIM</th><th>HT</th><th>TK</th><th>BS</th><th>GV</th><th>TOT</th><th>PP</th><th>SH</th><th>FW</th><th>FL</th></tr>
			  
            </thead>
            <tbody data-bind="foreach: players">
<!--			               <tr data-bind="if: fga ">			  -->
			               <tr data-bind="if: min ">			  

<!--              <tr data-bind="attr: {class: $index() === 4 || $index() === $parent.players().length - 1 ? 'separator' : ''}, css: {warning: inGame}"> -->
                <td data-bind="playerNameLabels: [pid, name, injury, skills]"></td>
                <td data-bind="text: pos"></td>
<!--                <td data-bind="round: [min, 1]"></td>
                <td data-bind="text: fg() + '-' + fga()"></td>
                <td data-bind="text: tp() + '-' + tpa()"></td>
                <td data-bind="text: ft() + '-' + fta()"></td>
                <td data-bind="text: orb"></td>
                <td data-bind="text: trb"></td>
                <td data-bind="text: ast"></td>
                <td data-bind="text: tov"></td>
                <td data-bind="text: stl"></td>
                <td data-bind="text: blk"></td>
                <td data-bind="text: pf"></td>
                <td data-bind="text: pts"></td> -->
				
				
                <td data-bind="text: fg"></td>
                <td data-bind="text: ast"></td>				
                <td data-bind="text: plusminus"></td>
                <td data-bind="text: fga"></td>
                <td data-bind="text: mfg"></td>
                <td data-bind="text: fgs"></td>
                <!--<td data-bind="text: pf"></td>-->
                <td data-bind="round: [pmin, 1]"></td>
                <td data-bind="text: hits"></td>
                <td data-bind="text: stl"></td>
                <td data-bind="text: blk"></td>
                <td data-bind="text: tov"></td>
                <td data-bind="round: [min, 1]"></td>
                <td data-bind="round: [ppmin, 1]"></td>
                <td data-bind="round: [shmin, 1]"></td>
        <!--        <td data-bind="round: [emin, 1]"></td> -->
				
                <td data-bind="text: fow"></td>
                <td data-bind="text: fol"></td>				
				
              </tr>
            </tbody>
            <tbody>
              <tr>
                <td>Total</td>
                <td></td>
          <!--     <tr data-bind="if: fga ">				-->
              <!--<tr data-bind="attr: {class: $index() === 4 || $index() === $parent.players().length - 1 ? 'separator' : ''}"> -->
<!--                <td data-bind="text: fg() + '-' + fga()"></td>
                <td data-bind="text: tp() + '-' + tpa()"></td>
                <td data-bind="text: ft() + '-' + fta()"></td> -->
                <td data-bind="text: fg"></td>
                <td data-bind="text: ast"></td>		
                <td ></td>				
                <td data-bind="text: fga"></td>
                <td data-bind="text: mfg"></td>
                <td data-bind="text: fgs"></td>
<!--                <td data-bind="text: pf"></td> -->
                <td data-bind="round: [pmin, 1]"></td>
                <td data-bind="text: hits"></td>
                <td data-bind="text: stl"></td>
                <td data-bind="text: blk"></td>
                <td data-bind="text: tov"></td>
                <td ></td>
                <td ></td>
                <td ></td>
         <!--       <td ></td> -->
				
                <td data-bind="text: fow"></td>
                <td data-bind="text: fol"></td>
              </tr>
            </tbody>
			
           <thead>
              <tr><th>Goalies</th></tr>
		   
<!--              <tr><th>Name</th><th>Pos</th><th>Min</th><th>FG</th><th>3Pt</th><th>FT</th><th>Off</th><th>Reb</th><th>Ast</th><th>TO</th><th>Stl</th><th>Blk</th><th>PF</th><th>Pts</th></tr> -->
              <tr><th>Name</th><th>Pos</th><th>SA</th><th>GA</th><th>Save</th><th>TOI</th><th>PP</th><th>SH</th></tr>			  
            </thead>
            <tbody data-bind="foreach: players">
             <tr data-bind="if: sfga ">				
              <!--<tr data-bind="attr: {class: $index() === 4 || $index() === $parent.players().length - 1 ? 'separator' : ''}"> -->
                <td data-bind="playerNameLabels: [pid, name, injury, skills]"></td>
                <td data-bind="text: pos"></td>
                <td data-bind="text: sfga"></td>
                <td data-bind="text: sfg"></td>
                <td data-bind="text: sfgs"></td>
                <td data-bind="round: [min, 1]"></td>
               <td data-bind="round: [ppmin, 1]"></td>
                <td data-bind="round: [shmin, 1]"></td>				

              </tr>
            </tbody>
            <tfoot>
              <tr>
                <td>Total</td>
               <td></td>
                <td data-bind="text: sfga"></td>
                <td data-bind="text: sfg"></td>
                <td data-bind="text: sfgs"></td>
                <td ></td>
                <td ></td>
                <td ></td>				
              </tr>
            </tfoot>			
			
			
			
			
			
          </table>
        </div>
      <!-- /ko -->
	  <br>
       <p>Definitions: </p>
	   
	   <!-- http://www.nhl.com/scores/htmlreports/20152016/ES020901.HTM -->
	   
       <p>G - Goals <br> 
	   A - Assists <br>
	   "+/-" - Change in score while in game<br>
	   SOG - Shots on goal<br>
	   MS - Missed shots <br>
	   BS - Blocked shots - offense <br>
	   PIM - Penalty Minutes <br>
	   HT - Hits given <br>
	   TK - Takaway <br>
	   BS - Blocked shots - defense <br>
	   GV - Goals <br>
	   TOT - Total strength time <br>
	   PP - Powerplay time <br>	   
	   SH - Shorthand time <br>	   
	   FW - Faceoffs won <br>	   	   
	   FL - Faceoffs lost <br>	   	   	   
	   SA - Shots at <br>	   	   	   
	   GA - Goals against <br>	   	   	   
	   Save - Saves <br>	   	   	   
	   TOI -  Time on ice<br>	   	   	   
	   PIM - Penalty minutes  <br>	   	   	   	   
	   </p>	  
    <!-- /ko -->
  </div>
  <div class="col-md-3">
    <div id="affixPlayByPlay">
      <form>
        <label for="playByPlaySpeed">Play-By-Play Speed:</label>
        <input type="range" id="playByPlaySpeed" min="1" max="33" step="1" style="width: 100%" data-bind="value: speed">
      </form>

      <div id="playByPlayList" style="overflow: auto;">
        <!-- ko foreach: playByPlay -->
          <p data-bind="html: $data"></p>
        <!-- /ko -->
      </div>
    </div>
  </div>
</row>